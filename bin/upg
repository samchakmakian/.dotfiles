#!/bin/bash

function countdown () {
    secs=$(($1))
	while [ $secs -gt 0 ]; do
   	echo -ne "Exiting in $secs\033[0K\r"
   	sleep 1
   	: $((secs--))
    done
}

echo -e "Perform full system upgrade?\nIt is recommended you check https://archlinux.org/ first to avoid instability."
select yn in "Yes" "No"; do
    case $yn in
	Yes ) sudo pacman -Syu; break;;
	No ) break;;
    esac
done

echo -e "\nPerform yay package upgrades?"
select yn in "Yes" "No"; do
    case $yn in
        Yes ) yay -Syu; break;;
        No ) countdown 3; exit;;
    esac
done

countdown 10
